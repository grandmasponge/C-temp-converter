#include <stdio.h>
#include <stdlib.h>
#include <string.h>

double toc(double farenheight);
double tof(double celcuis);

int main(int argc, char *argv[]) {
  if (argc < 3) {  // Need exactly two arguments (conversion type and value)
    perror("Not enough supplied arguments to the program");
    exit(1);
  }
  else if(argc > 3) {
    perror("Too many arguments were supplied");
    exit(1);
  }

  // Compare the two strings that were inputted
  if(strcmp(argv[1],"toc") == 0) {
    double input = atof(argv[2]);
    double output = toc(input);
    printf("%f\n", output);
  }
  else if (strcmp(argv[1], "tof") == 0 ) {
    double input = atof(argv[2]);
    double output = tof(input);
    printf("%f\n", output);
  }
  else {
    perror("Incorrect usage of program. Use -h to list commands");
    exit(1);
  }

  return 0;
}

double toc(double farenheight) {
  return ((farenheight - 32) / 1.8);
}

double tof(double celcuis) {
  return (celcuis * 1.8) + 32;
}
